<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Email Mapper Studio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="app-container">
    
    <!-- LEFT PANEL: EMAIL PREVIEW -->
    <div class="email-preview-area">
      
      <!-- GÅÃ“WNE ZAKÅADKI -->
      <div class="nav-header">
        <div class="nav-pills">
          <button class="nav-pill active" data-tab="payment-link">ğŸ’³ Link do pÅ‚atnoÅ›ci</button>
          <button class="nav-pill" data-tab="payment-confirm">âœ… Potwierdzenie</button>
          <button class="nav-pill" data-tab="payment-failed">âŒ BÅ‚Ä…d rejestracji</button>
        </div>
      </div>

      <!-- SUB-ZAKÅADKI (tylko dla Link do pÅ‚atnoÅ›ci) -->
      <div class="subtabs-container" id="subtabs-payment-link">
        <div class="subtabs">
          <button class="subtab active" data-subtab="personal">Osoba fizyczna</button>
          <button class="subtab" data-subtab="nip-ok">NIP <span class="badge badge-green">âœ“</span></button>
          <button class="subtab" data-subtab="nip-bad">NIP <span class="badge badge-orange">âš </span></button>
        </div>
      </div>

      <div class="email-wrapper">
        
        <!-- =======================================================================
             TAB 1: PAYMENT LINK
             ======================================================================= -->
        <div id="content-payment-link" class="tab-content">
          
          <!-- SUBCONTENT: OSOBA FIZYCZNA -->
          <div class="subcontent active" data-subcontent="personal">
            <div class="email-wrap">
              <div class="email-header">Osoba fizyczna</div>
              
              <div class="email-banner" data-inspect="banner-img">
                (Top Banner: {{event_mail_link_top_banner}})
              </div>

              <div class="email-body">
                <div class="email-greeting">CzeÅ›Ä‡ <strong>{{purchaser_first_name}}</strong></div>
                <div class="email-text">
                  DziÄ™kujemy za rejestracjÄ™ na <strong>{{event_name}}</strong>. 
                  Aby potwierdziÄ‡ rezerwacjÄ™ miejsca, wymagane jest dokonanie pÅ‚atnoÅ›ci.
                </div>

                <div class="email-event-info">
                  ğŸ“… {{event_day_text_1}}, {{event_time_text}}<br>
                  ğŸ“ {{event_location_place}}, {{event_location_address}}
                </div>

                <a href="#" class="email-button g1-active" data-inspect="g1-btn">OpÅ‚aÄ‡ rezerwacjÄ™</a>

                <div class="order-section">
                  <table class="order-table">
                    <tr>
                      <th colspan="3" class="g1-active" data-inspect="g1-text">SzczegÃ³Å‚y zamÃ³wienia</th>
                    </tr>
                    <tr>
                      <td class="ticket-name g1-active" data-inspect="g1-text">Bilet Standard</td>
                      <td class="ticket-qty">2 Ã— 399,00 zÅ‚</td>
                      <td class="ticket-price">798,00 zÅ‚</td>
                    </tr>
                    <tr class="summary-row first" data-inspect="g2-border">
                      <td colspan="2">Kwota netto</td>
                      <td style="text-align: right;">648,78 zÅ‚</td>
                    </tr>
                    <tr class="summary-row">
                      <td colspan="2">VAT (23%)</td>
                      <td style="text-align: right;">149,22 zÅ‚</td>
                    </tr>
                    <tr class="total-row" data-inspect="g2-bg">
                      <td colspan="2">Razem do zapÅ‚aty</td>
                      <td style="text-align: right;">798,00 zÅ‚</td>
                    </tr>
                  </table>
                </div>

                <div class="billing-section">
                  <div class="billing-header g1-active" data-inspect="g1-text">Dane rozliczeniowe</div>
                  <div class="billing-content">
                    <div class="billing-col">
                      <strong>{{purchaser_full}}</strong>
                      {{purchaser_email}}<br>{{purchaser_mobile_no}}
                    </div>
                    <div class="billing-col">
                      <strong>Osoba fizyczna</strong><br>
                      {{billing_address_full}}
                    </div>
                  </div>
                </div>

                <div class="email-alert email-alert-info" style="margin-top: 16px;">
                  ğŸ“„ <strong>Faktura zostanie wystawiona na osobÄ™ fizycznÄ…</strong> zgodnie z podanymi danymi.
                </div>
              </div>

              <div class="email-footer g1-active" data-inspect="g1-bg">
                Masz pytania? <a href="#" data-inspect="contact-email">{{md_email_kontakt}}</a>
              </div>
            </div>
          </div>

          <!-- SUBCONTENT: NIP OK -->
          <div class="subcontent" data-subcontent="nip-ok">
            <div class="email-wrap">
              <div class="email-header">NIP Poprawny âœ…</div>
              
              <div class="email-banner" data-inspect="banner-img">(Top Banner)</div>

              <div class="email-body">
                <div class="email-greeting">CzeÅ›Ä‡ <strong>{{purchaser_first_name}}</strong></div>
                <div class="email-text">
                  DziÄ™kujemy za rejestracjÄ™ na <strong>{{event_name}}</strong>. 
                </div>

                <div class="email-event-info">
                  ğŸ“… {{event_day_text_1}}, {{event_time_text}}<br>
                  ğŸ“ {{event_location_place}}
                </div>

                <a href="#" class="email-button g1-active" data-inspect="g1-btn">OpÅ‚aÄ‡ rezerwacjÄ™</a>

                <div class="order-section">
                  <table class="order-table">
                    <tr><th colspan="3" class="g1-active" data-inspect="g1-text">SzczegÃ³Å‚y zamÃ³wienia</th></tr>
                    <tr>
                      <td class="ticket-name g1-active" data-inspect="g1-text">Bilet Premium</td>
                      <td class="ticket-qty">1 Ã— 999,00 zÅ‚</td>
                      <td class="ticket-price">999,00 zÅ‚</td>
                    </tr>
                    <tr class="summary-row first" data-inspect="g2-border">
                      <td colspan="2">Kwota netto</td>
                      <td style="text-align: right;">812,20 zÅ‚</td>
                    </tr>
                    <tr class="total-row" data-inspect="g2-bg">
                      <td colspan="2">Razem do zapÅ‚aty</td>
                      <td style="text-align: right;">999,00 zÅ‚</td>
                    </tr>
                  </table>
                </div>

                <div class="billing-section">
                  <div class="billing-header g1-active" data-inspect="g1-text">Dane rozliczeniowe</div>
                  <div class="billing-content">
                    <div class="billing-col">
                      <strong>{{purchaser_full}}</strong>
                      {{purchaser_email}}
                    </div>
                    <div class="billing-col">
                      <strong data-inspect="gus-name">{{billing_company_name}}</strong>
                      NIP: <span data-inspect="gus-nip">{{purchaser_nip}}</span>
                    </div>
                  </div>
                </div>

                <!-- NIP BOX SUCCESS -->
                <div class="nip-box nip-box-success" data-inspect="gus-name">
                  <div class="nip-header">âœ… Weryfikacja NIP</div>
                  <div class="nip-content">
                    <strong>NIP: {{114.data.gus_data.nip}}</strong> â€” POPRAWNY<br>
                    ğŸ¢ {{114.data.gus_data.name}}<br>
                    ğŸ“ {{114.data.gus_data.street}}, {{114.data.gus_data.zip}} {{114.data.gus_data.city}}
                  </div>
                </div>
              </div>
              <div class="email-footer g1-active" data-inspect="g1-bg">
                Masz pytania? <a href="#" data-inspect="contact-email">{{md_email_kontakt}}</a>
              </div>
            </div>
          </div>

          <!-- SUBCONTENT: NIP BAD -->
          <div class="subcontent" data-subcontent="nip-bad">
            <div class="email-wrap">
              <div class="email-header">NIP Niepoprawny âš ï¸</div>
              <div class="email-banner" data-inspect="banner-img">(Top Banner)</div>
              <div class="email-body">
                <div class="email-greeting">CzeÅ›Ä‡ <strong>{{purchaser_first_name}}</strong></div>
                <div class="email-text">DziÄ™kujemy za rejestracjÄ™ na <strong>{{event_name}}</strong>.</div>
                
                <a href="#" class="email-button g1-active" data-inspect="g1-btn">OpÅ‚aÄ‡ rezerwacjÄ™</a>

                <div class="order-section">
                  <table class="order-table">
                    <tr><th colspan="3" class="g1-active" data-inspect="g1-text">SzczegÃ³Å‚y zamÃ³wienia</th></tr>
                    <tr>
                      <td class="ticket-name g1-active" data-inspect="g1-text">Bilet VIP</td>
                      <td class="ticket-qty">1 Ã— 1 499,00 zÅ‚</td>
                      <td class="ticket-price">1 499,00 zÅ‚</td>
                    </tr>
                    <tr class="summary-row first" data-inspect="g2-border">
                      <td colspan="2">Kwota netto</td>
                      <td style="text-align: right;">1 218,70 zÅ‚</td>
                    </tr>
                    <tr class="summary-row">
                      <td colspan="2">VAT (23%)</td>
                      <td style="text-align: right;">280,30 zÅ‚</td>
                    </tr>
                    <tr class="total-row" data-inspect="g2-bg">
                      <td colspan="2">Razem do zapÅ‚aty</td>
                      <td style="text-align: right;">1 499,00 zÅ‚</td>
                    </tr>
                  </table>
                </div>

                <!-- NIP BOX WARNING -->
                <div class="nip-box nip-box-warning">
                  <div class="nip-header">âš ï¸ Weryfikacja NIP</div>
                  <div class="nip-content">
                    <strong>NIP: {{purchaser_nip}}</strong> â€” NIEPOPRAWNY<br>
                    Faktura zostanie wystawiona na osobÄ™ fizycznÄ….<br>
                    <a href="#" class="nip-button" data-inspect="link-payment">ğŸ”„ Zarejestruj siÄ™ ponownie</a>
                  </div>
                </div>
              </div>
              <div class="email-footer g1-active" data-inspect="g1-bg">
                Masz pytania? <a href="#" data-inspect="contact-email">{{md_email_kontakt}}</a>
              </div>
            </div>
          </div>

        </div>

        <!-- =======================================================================
             TAB 2: CONFIRMATION
             ======================================================================= -->
        <div id="content-payment-confirm" class="tab-content hidden">
          <div class="email-wrap">
            <div class="email-header">Potwierdzenie pÅ‚atnoÅ›ci âœ…</div>
            
            <div class="email-banner" data-inspect="conf-banner-img">(Banner ID: 11)</div>
            
            <div class="email-body">
              <div class="email-greeting">
                CzeÅ›Ä‡ <strong>{{purchaser_first_name}}</strong>, 
                <span style="color: #00bcd4;" data-inspect="g2-text">pÅ‚atnoÅ›Ä‡ przebiegÅ‚a pomyÅ›lnie!</span>
              </div>
              <div class="email-text">
                Twoja rezerwacja jest potwierdzona.
              </div>

              <div class="email-event-info">
                ğŸ“… {{event_day_text_1}}<br>ğŸ“ {{event_location_place}}
              </div>

              <a href="#" class="email-button g1-active" data-inspect="conf-g1">ğŸ“ PokaÅ¼ na mapie</a>

              <div class="order-section">
                <table class="order-table">
                  <tr><th colspan="3" class="g1-active" data-inspect="conf-g1">Twoje bilety</th></tr>
                  <tr>
                    <td colspan="3" style="padding: 12px; color: #666;" data-inspect="conf-tickets">
                      {{9.data.html_order_table}}
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            
            <div class="email-footer g1-active" data-inspect="conf-g1">
               Masz pytania? <a href="#" data-inspect="contact-email">{{md_email_kontakt}}</a>
            </div>
          </div>
        </div>

        <!-- =======================================================================
             TAB 3: FAILED
             ======================================================================= -->
        <div id="content-payment-failed" class="tab-content hidden">
          <div class="email-wrap">
            <div class="email-header">Nieudana rejestracja âŒ</div>
            <div class="email-banner" data-inspect="banner-img">(Banner)</div>
            
            <div class="email-body">
              <div class="email-alert email-alert-error">
                <strong>âš ï¸ Niestety Twoja rejestracja nie powiodÅ‚a siÄ™.</strong>
              </div>

              <a href="#" class="email-button g1-active" data-inspect="g1-btn">Zarejestruj siÄ™ ponownie</a>

              <!-- Tech Support Box -->
              <div class="tech-support-box" data-inspect="tech-email">
                <strong>ğŸ› ï¸ Potrzebujesz pomocy?</strong><br>
                ğŸ“§ {{30.data.md_email_techniczny}} | ğŸ“ {{30.data.md_mobile_techniczny}}
              </div>
            </div>
            
            <div class="email-footer g1-active" data-inspect="g1-bg">Stopka</div>
          </div>
        </div>

      </div><!-- /email-wrapper -->
    </div>

    <!-- RIGHT PANEL: INSPECTOR -->
    <div class="inspector-panel">
      <div class="inspector-header">
        <h2>ğŸ” Inspektor Zmiennych</h2>
      </div>
      <div class="inspector-scroll-area" id="inspector-list">
        <!-- JS will populate this -->
      </div>
    </div>

  </div>

  <script src="script.js"></script>
</body>
</html>
